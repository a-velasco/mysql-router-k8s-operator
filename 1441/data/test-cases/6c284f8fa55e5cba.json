{"uid":"6c284f8fa55e5cba","name":"test_fail_and_rollback","fullName":"tests.integration.test_upgrade#test_fail_and_rollback","historyId":"997774fbf319c1a457fb1c7123a70c21","time":{"start":1718415684211,"stop":1718415887811,"duration":203600},"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    ","descriptionHtml":"<p>Upgrade to an invalid version and test rollback.</p>\n<pre><code>Relies on the charm built in the previous test (test_upgrade_from_edge).\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"ops_test","time":{"start":1718415353950,"stop":1718415354226,"duration":276},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1718415353950,"stop":1718415353950,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1718415353950,"stop":1718415353950,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1718415684210,"stop":1718415684210,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1718415684210,"stop":1718415684210,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    ","status":"passed","steps":[],"attachments":[{"uid":"7ad344aff8aeb29c","name":"log","source":"7ad344aff8aeb29c.txt","type":"text/plain","size":4025}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1718415887817,"stop":1718415887817,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1718415887818,"stop":1718415894745,"duration":6927},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1718415894746,"stop":1718415894746,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1718415894746,"stop":1718415894746,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1718415894746,"stop":1718415894746,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_upgrade"},{"name":"host","value":"fv-az564-963"},{"name":"thread","value":"12546-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_upgrade"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"37eac231f87da457","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":3,"passed":14,"unknown":0,"total":18},"items":[{"uid":"568f038421cb4853","reportUrl":"../1436//#testresult/568f038421cb4853","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql-router-k8s/0 [idle] active: Router 8.0.36+testupgrade running (restart pending); Charmed operator 1.2+1a28465\n  mysql-router-k8s/1 [idle] active: Router 8.0.36+testupgrade running (restart pending); Charmed operator 1.2+1a28465\n  mysql-router-k8s/2 [idle] active: Router 8.0.36+testupgrade running; Charmed operator 1.2+1a28465","time":{"start":1718329253245,"stop":1718330525257,"duration":1272012}},{"uid":"e19a54222bb85943","reportUrl":"../1430//#testresult/e19a54222bb85943","status":"passed","time":{"start":1718242843113,"stop":1718243063768,"duration":220655}},{"uid":"5287fcadcb14b1b4","reportUrl":"../1429//#testresult/5287fcadcb14b1b4","status":"passed","time":{"start":1718157160688,"stop":1718157365522,"duration":204834}},{"uid":"9e7abe32d7f5da66","reportUrl":"../1420//#testresult/9e7abe32d7f5da66","status":"passed","time":{"start":1718071008452,"stop":1718071200958,"duration":192506}},{"uid":"599351c26a1ef305","reportUrl":"../1412//#testresult/599351c26a1ef305","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1717983542434,"stop":1717983542434,"duration":0}},{"uid":"2b2abde383a75427","reportUrl":"../1411//#testresult/2b2abde383a75427","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1717897021359,"stop":1717897021359,"duration":0}},{"uid":"12f8622c7dc3c0d6","reportUrl":"../1410//#testresult/12f8622c7dc3c0d6","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1717810621336,"stop":1717810621336,"duration":0}},{"uid":"b1d41ec498d423dd","reportUrl":"../1405//#testresult/b1d41ec498d423dd","status":"passed","time":{"start":1717724513912,"stop":1717724699824,"duration":185912}},{"uid":"3300b5e02b34ffc","reportUrl":"../1401//#testresult/3300b5e02b34ffc","status":"passed","time":{"start":1717638326228,"stop":1717638513832,"duration":187604}},{"uid":"f3b3480b4488c144","reportUrl":"../1400//#testresult/f3b3480b4488c144","status":"passed","time":{"start":1717551673319,"stop":1717551868284,"duration":194965}},{"uid":"13312bf716d7844a","reportUrl":"../1396//#testresult/13312bf716d7844a","status":"passed","time":{"start":1717465293818,"stop":1717465479508,"duration":185690}},{"uid":"b10c4ee41e16cb87","reportUrl":"../1395//#testresult/b10c4ee41e16cb87","status":"passed","time":{"start":1717378881109,"stop":1717379072108,"duration":190999}},{"uid":"f8ff4df54732d3d5","reportUrl":"../1394//#testresult/f8ff4df54732d3d5","status":"passed","time":{"start":1717292496600,"stop":1717292717585,"duration":220985}},{"uid":"6f2077cfbc860fcd","reportUrl":"../1393//#testresult/6f2077cfbc860fcd","status":"passed","time":{"start":1717206138295,"stop":1717206326535,"duration":188240}},{"uid":"8e7bd480b878123e","reportUrl":"../1392//#testresult/8e7bd480b878123e","status":"passed","time":{"start":1717119762380,"stop":1717119963889,"duration":201509}},{"uid":"c48e731f4ae00ee4","reportUrl":"../1390//#testresult/c48e731f4ae00ee4","status":"passed","time":{"start":1717033606522,"stop":1717033803443,"duration":196921}},{"uid":"adafd0edba1851d2","reportUrl":"../1388//#testresult/adafd0edba1851d2","status":"passed","time":{"start":1716946915849,"stop":1716947115196,"duration":199347}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"6c284f8fa55e5cba.json","parameterValues":[]}